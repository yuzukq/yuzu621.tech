---
slug: Rubyish
title: Rubyã‚‰ã—ã•ã‚’å­¦ã‚“ã§ã¿ãŸ
date: 2026-01-15
description: Rubyã‚’å­¦ã³ç›´ã—ã¾ã—ãŸï¼ã“ã®è¨˜äº‹ã§ã¯Rubyã®æ–‡æ³•Rubyã‚‰ã—ã„æ›¸ãæ–¹ã®å¥½ããªã¨ã“ã‚ã‚’æ›¸ãæ®‹ã—ã¦ãŠã“ã†ã¨æ€ã„ã¾ã™ï¼
tags:
  - Ruby
thumbnail: /images/blog/20260115/icatch.png
category: tech
---

# ã‚‚ã£ã¨Rubyã‚‰ã—ã

Rubyã‚’ã‚„ã£ã¦æ€ã£ãŸã®ã¯è€ƒãˆã‚’è¡¨ç¾ã—ã‚„ã™ã„è¨€èªã ãªã¨æ€ã£ãŸï¼

## Rubyã‚‰ã—ã•ã¨ã¯ - è¨­è¨ˆæ€æƒ³

æ—¥æœ¬ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãªã‚‰ã ã‚Œã§ã‚‚çŸ¥ã£ã¦ã„ã‚‹Rubyã¯1995å¹´ã«ã¾ã¤ã‚‚ã¨ã‚†ãã²ã‚æ°ï¼ˆMatzï¼‰ã«ã‚ˆã£ã¦æ—¥æœ¬ã§ç”Ÿã¾ã‚ŒãŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§ã™ã€‚ãã®è¨­è¨ˆæ€æƒ³ã¯ä¸€è²«ã—ã¦**ã€Œãƒ—ãƒ­ã‚°ãƒ©ãƒã®ç”Ÿç”£æ€§ã¨å¹¸ç¦ã€**ã‚’æœ€å„ªå…ˆã«ã—ã¦ã„ã¾ã™ã€‚

> "Rubyã®è¨€èªä»•æ§˜ç­–å®šã«ãŠã„ã¦æœ€ã‚‚é‡è¦–ã—ã¦ã„ã‚‹ã®ã¯ã‚¹ãƒˆãƒ¬ã‚¹ãªããƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’æ¥½ã—ã‚€ã“ã¨ã§ã‚ã‚‹"
> 
> 
> â€” ã¾ã¤ã‚‚ã¨ã‚†ãã²ã‚ã€[ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª Ruby](https://www.ruby-lang.org/ja/about/)ã€
> 

ã“ã®æ€æƒ³ã‚’ç‰¹ã«æ„Ÿã˜ãŸã®ã¯æ›¸ã„ã¦ã‚ã‚‹è¨˜è¿°ãŒç›´æ„Ÿçš„ã«ç†è§£ã—ã‚„ã™ã„ï¼Œã¾ãŸã“ã†æ›¸ã„ãŸã‚‰ã“ã†å‹•ãã‹ãªã¨ã‚ã‚Œã“ã‚Œè©¦ã™ä¸­ã§ï¼Œã“ã‚Œã‚‚ã§ãã‚‹ã‚“ã ã¨ã„ã£ãŸã‚ˆã†ã«ç›´æ„Ÿçš„ã«å‹•ãã“ã¨ãŒå¤šã‹ã£ãŸï¼

ã“ã‚Œã¨ã‹ğŸ‘‡

```ruby
5.times { puts "Hello" }
"hello".upcase  # => "HELLO"
[1, 2, 3].map { |n| n * 2 }  # => [2, 4, 6]

# Railsã§ã‚ã‚ŠãŒã¡ãªãƒ¡ã‚½ãƒƒãƒ‰ãƒã‚§ãƒ¼ãƒ³ã‚‚ã‹ãªã‚Šè‡ªç„¶
users.select { |u| u.active? }
     .sort_by { |u| u.created_at }
     .map { |u| u.name }
```

å¾Œè¿°ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã‹ã‚‚ï¼Œçµè«–ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã§æ°—æŒã¡ãŒã‚ˆã‹ã£ãŸï¼æ—¥æœ¬èªã§é•·ã„è©±ã‚’èã„ãŸæŒ™å¥çµå±€è¨€ã„ãŸã„ã“ã¨ã¯æœ€å¾Œã«ãã‚‹é€†èŒ‚æœ¨å‹ã®æ–‡ç« ã«å¯¾ã—ã¦ï¼Œè‹±èªã®æ–‡æ³•ã«è¿‘ã„ä¸€ç•ªè¨€ã„ãŸã„çµè«–ã‚’è¿°ã¹ãŸå¾Œã«ãã®æ¡ä»¶ãŒä»˜ã‘ãã‚ãˆã‚‰ã‚Œã‚‹ã‚ˆã†ãªè¨˜è¿°ãŒçµ„ã¿ç«‹ã¦ã‚„ã™ã‹ã£ãŸï¼ğŸ‘‡

```ruby
if user.active? # ã“ã‚Œã ã£ãŸã‚‰ä½•ã™ã‚‹ã‚“ã ã„ğŸ¤”ã‹ã‚‰å…¥ã‚‹
  send_email(user)
end

# é€ã‚ŠãŸã„ã®ã­ğŸ«¡ ã“ã®ã¨ãã«ğŸ‘‡
send_email(user) if user.active?
```

ã“ã‚Œã¾ã§è§¦ã£ã¦ããŸCã‚„JSã¨ã„ã£ãŸè¨€èªã§ã¯ã§ããªã‹ã£ãŸè¡¨ç¾ã§ï¼ŒPerlã«å¼·ãå½±éŸ¿ã‚’å—ã‘ãŸè‡ªç„¶è¨€èªã«è¿‘ã„è¡¨æºã‚’é‡è¦–ã—ãŸæ–‡åŒ–ã®è¡¨ã‚Œã ã¨ã„ã„ã¾ã™ï¼

> **"Rubyã¯ã€Perlãªã©ã®å½±éŸ¿ã‚’å—ã‘ã¦é–‹ç™ºã•ã‚Œã¾ã—ãŸ"**
> 
> 
> Rubyå…¬å¼ã‚µã‚¤ãƒˆ - Rubyã«ã¤ã„ã¦
> [https://www.ruby-lang.org/ja/about/](https://www.ruby-lang.org/ja/about/)
> 

> **"ç§ã¯PerlãŒå¥½ãã§ã—ãŸã€‚ã—ã‹ã—ã€Perlã«ã¯æº€è¶³ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚Perlã¯æœ¬å½“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘è¨€èªã§ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚"** The Philosophy of Rubyï¼ˆè‹±èªï¼‰
[https://www.artima.com/articles/the-philosophy-of-ruby](https://www.artima.com/articles/the-philosophy-of-ruby)
> 

Ruby4.0.0å…¬å¼ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

[https://docs.ruby-lang.org/ja/4.0/doc/index.html](https://docs.ruby-lang.org/ja/4.0/doc/index.html)

---

# Rubyã‚’æ„Ÿã˜ãŸæ–‡æ³•ã®è¦šæ›¸

## ãƒ¡ã‚½ãƒƒãƒ‰ãƒã‚§ãƒ¼ãƒ³ã§å‡¦ç†ã‚’ã¤ãªã’ã‚‹

ã€Œã©ã†ã‚„ã£ã¦ã€ã€Œä½•ã‚’ã—ãŸã„ã‹ã€ã‚’å®£è¨€çš„ã«

```ruby
# âŒ æ‰‹ç¶šãå‹(C/Javaçš„)
result = []
collection.each do |item|
  result << item if condition
end

# âœ… é–¢æ•°å‹(Rubyçš„)
result = collection.select { |item| condition }
```

```ruby
# map, select, reject, find ãªã©ã‚’æ´»ç”¨
å¶æ•° = (1..100).select(&:even?) # ã‚·ãƒ³ãƒœãƒ«ã‚’ä½¿ã£ãŸçœç•¥(å¾Œè¿°)
2å€ = [1,2,3].map { |n| n * 2 }
å¥‡æ•°é™¤å¤– = [1,2,3].reject(&:odd?)
```

ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã§å®£è¨€çš„ã«é…åˆ—ã®è¦ç´ ã‚’æ ¼ç´ã§ãã‚‹

```ruby
# map - é…åˆ—ã‚’å¤‰æ›ï¼ˆJSã®mapã¨åŒã˜ï¼‰
doubled = [1, 2, 3].map { |n| n * 2 }  # => [2, 4, 6]

# select - ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆJSã®filterï¼‰
evens = (1..10).select { |n| n.even? }  # => [2, 4, 6, 8, 10]

# reject - é™¤å¤–ï¼ˆselectã®é€†ï¼‰
odds = (1..10).reject { |n| n.even? }   # => [1, 3, 5, 7, 9]

# find - æœ€åˆã®ä¸€è‡´ï¼ˆJSã®findï¼‰
first_big = [1, 5, 3, 8].find { |n| n > 4 }  # => 5
```

é…åˆ—ã¨ã—ã¦æ ¼ç´ã›ãšã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦æ‰±ã†ã«ã¯()ã§

```ruby
# ç¯„å›²ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ç¹°ã‚Šè¿”ã—
(1..5).each { |n| print "#{n} " }    # 1 2 3 4 5
(1...5).each { |n| print "#{n} " }   # 1 2 3 4 (5å«ã¾ãš)

# upto/downto - æŒ‡å®šç¯„å›²ã®ç¹°ã‚Šè¿”ã—
1.upto(5) { |i| print "#{i} " }      # 1 2 3 4 5
5.downto(1) { |i| print "#{i} " }    # 5 4 3 2 1

# step - é–“éš”ã‚’æŒ‡å®š
0.step(10, 2) { |i| print "#{i} " }  # 0 2 4 6 8 10
```

åˆ©ç‚¹ï¼š

- æ„å›³ãŒæ˜ç¢ºã§è¦ç´ ã«å¯¾ã—ã¦ä½•ã‚’å‡¦ç†ã—ãŸã„ã®ã‹æ¯”è¼ƒçš„ã‚ã‹ã‚Šã‚„ã™ã„
- çŸ­ãæ›¸ã‘ã‚‹(ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆå‡¦ç†ã®è¨˜è¿°ä¸è¦)

ã¾ãŸï¼Œçµ„ã¿è¾¼ã¿é–¢æ•°ãŒéå¸¸ã«å¼·åŠ›ãªã®ã‚‚ã‚ã£ã¦ã“ã®å‡¦ç†ã®é€£é–ãŒå…‰ã£ã¦ã„ã‚‹ã¨ã“ã‚ã ã¨ã‚‚æ„Ÿã˜ãŸï¼

```ruby
# é‡è¤‡ã‚’å‰Šé™¤ã—ã¦é™é †ã§ã‚½ãƒ¼ãƒˆ

puts "\nã€å•é¡Œ3ã€‘é‡è¤‡å‰Šé™¤"
arr = [3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5]

puts arr.sort.uniq.reverse.inspect # ã•ã™ãŒã«ã‚„ã‚Šã™ãæ„Ÿã¯ã‚ã‚‹
# > [1, 2, 3, 4, 5, 6, 9]
```

ã“ã“ã¾ã§æŠ½è±¡åŒ–ã•ã‚ŒãŸè¨€èªã¯ã™ã”ã„ã¨æ„Ÿã˜ï¼Œå†…éƒ¨å®Ÿè£…ã‚‚å°‘ã—ã ã‘å‘³è¦‹ã—ã¦ã¿ã¾ã—ãŸï¼Rubyå…¬å¼ã®å‡¦ç†ç³»MRI Ruby(Matz' Ruby Implementation)ã¯Rubyã§è¨˜è¿°ã•ã‚ŒãŸã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯Cã§å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™[hoge]([https://www.ruby.or.jp/ja/tech/install/ruby/implementations](https://www.ruby.or.jp/ja/tech/install/ruby/implementations))ï¼ä¾‹ãˆã°çµ„ã¿è¾¼ã¿é–¢æ•°ã®ä¸­ã§ã‚‚ç°¡å˜ãªsumãƒ¡ã‚½ãƒƒãƒ‰ã®å†…éƒ¨å®Ÿè£…ã‚’è¦‹ã¦ã¿ã‚‹ã¨ï¼Œ

å®Ÿéš›ã®Cã§ã®å®Ÿè£…(ç°¡ç•¥ç‰ˆ)ã€€[ã‚½ãƒ¼ã‚¹å…¨ä½“ã¯ã“ã¡ã‚‰](https://github.com/ruby/ruby/blob/master/enum.c)

```c
// enum.c ã‚ˆã‚ŠæŠœç²‹
static VALUE
enum_sum(int argc, VALUE* argv, VALUE obj)
{
    struct enum_sum_memo memo;
    VALUE beg, end;
    int excl;
    
    // åˆæœŸå€¤ã®è¨­å®šï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯0ï¼‰
    memo.sum = (argc == 0) ? LONG2FIX(0) : argv[0];
    memo.block_given = rb_block_given_p();
    
    // å„è¦ç´ ã‚’åŠ ç®—
    if (RTEST(rb_range_values(obj, &beg, &end, &excl))) {
        // ç¯„å›²ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆã®æœ€é©åŒ–
        return int_range_sum(beg, end, excl, memo.sum);
    }
    
    // é€šå¸¸ã®é…åˆ—ã®å ´åˆ
    rb_block_call(obj, id_each, 0, 0, sum_iter_i, (VALUE)&memo);
    
    return memo.sum;
}

// å„è¦ç´ ã®åŠ ç®—å‡¦ç†
static VALUE
sum_iter_i(RB_BLOCK_CALL_FUNC_ARGLIST(i, args))
{
    struct enum_sum_memo *memo = (struct enum_sum_memo *) args;
    memo->sum = rb_funcall(memo->sum, '+', 1, i);
    return Qnil;
}
```

---

## ç¹°ã‚Šè¿”ã—ã®each

foræ–‡ã‚’ä½¿ã‚ãªã„ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ï¼‹ãƒ–ãƒ­ãƒƒã‚¯ã®çµ„ã¿åˆã‚ã›

```ruby
# âŒ Cè¨€èªçš„ãªæ›¸ãæ–¹ï¼ˆRubyã§ã‚‚å‹•ãã‘ã©éæ¨å¥¨ï¼‰
for i in 0...5
  puts i
end

# âœ… Rubyã‚‰ã—ã„æ›¸ãæ–¹
5.times do |i|
  puts i
end

# é…åˆ—ã¸ã®ç¹°ã‚Šè¿”ã—ã‚¢ã‚¯ã‚»ã‚¹ã§ã‚‚forã‚’ä½¿ã‚ãšã«
fruits = ["ã‚Šã‚“ã”", "ã¿ã‹ã‚“", "ãƒãƒŠãƒŠ"]

# each - åŸºæœ¬ã®ç¹°ã‚Šè¿”ã—
fruits.each { |fruit| puts fruit }

# each_with_index - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä»˜ã
fruits.each_with_index do |fruit, i|
  puts "#{i}: #{fruit}"
end
```

---

## ã‚·ãƒ³ãƒœãƒ«ã®åˆ©ç”¨

ã‚³ãƒ­ãƒ³ï¼šã§å§‹ã¾ã‚‹è»½é‡ãªè­˜åˆ¥å­ï¼ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦å®£è¨€ã§ãï¼Œæ–‡å­—åˆ—å‹ã§ã®å®£è¨€ã¨é•ã„ï¼Œå…±é€šã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ä»˜ä¸ã•ã‚Œã‚‹ãŸã‚ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ãŒè‰¯ã„(æ¯”è¼ƒçš„)

- **ãƒãƒƒã‚·ãƒ¥ã®ã‚­ãƒ¼**
- **ã‚¯ãƒ©ã‚¹å/ãƒ¡ã‚½ãƒƒãƒ‰å/å¤‰æ•°å/å®šæ•°å**
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å**

ã¨ã„ã£ãŸåˆ©ç”¨

```ruby
sym = :hello
str = "hello"

# æ–‡å­—åˆ—ã¨ã®é•ã„
puts sym.object_id  # ä¾‹: 1234560 (å¸¸ã«åŒã˜ID)
puts sym.object_id  # ä¾‹: 1234560 (åŒã˜ï¼)
puts str.object_id  # ä¾‹: 70234567890
puts "hello".object_id  # ä¾‹: 70234567912 (é•ã†ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼)
```

ã“ã‚ŒãŒã‚†ãˆã«æ¯”è¼ƒçš„ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ãŒè‰¯ã„

```ruby
# ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ãŒè‰¯ã„
1000.times do
  :user  # åŒã˜ã‚·ãƒ³ãƒœãƒ«1ã¤ã ã‘ãƒ¡ãƒ¢ãƒªã«å­˜åœ¨
  "user" # 1000å€‹ã®æ–‡å­—åˆ—ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒä½œã‚‰ã‚Œã‚‹
end
```

ãƒãƒƒã‚·ãƒ¥ã‚­ãƒ¼ã¨ã—ã¦ã®åˆ©ç”¨

```ruby
person = {
  name: "Taro",         # ã‚·ãƒ³ãƒœãƒ«ãŒã‚­ãƒ¼(:name)
  age: 25,
  city: "Tokyo"
}

puts person[:name]  # Taroã€€
puts person[:age]   # 25
puts person[:city]  # Tokyo

# æ–°æ—§ã®æ›¸ãæ–¹
old_style = { :name => "Taro", :age => 25 }
new_style = { name: "Taro", age: 25 }  # åŒã˜æ„å‘³
```

å‘¼ã³å‡ºã—ã¯`person[:name]`ã®ã‚ˆã†ã«[]ã§æ›¸ãï¼Œ`person.name`ã®ã‚ˆã†ãªå‘¼ã³å‡ºã—ãŒRailsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¿ã‚‰ã‚Œã‚‹ã®ã¯ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ˜ãƒ«ãƒ‘ãƒ¼ã«ã‚ˆã‚‹ã‚‚ã®

ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ˜ãƒ«ãƒ‘ãƒ¼ãŒã©ã®ã‚ˆã†ã«ã—ã¦ï¼ŒRubyæ¨™æº–ã®ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã«ä¾¿åˆ©ãªé–¢æ•°ã‚’æä¾›ã—ã¦ã„ã‚‹ã‹ã¯ã€ŒRubyã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘/ãƒ¢ãƒ³ã‚­ãƒ¼ãƒ‘ãƒƒãƒã€ã®ç¯€ã§è¨€åŠã—ã¦ã„ã‚‹ï¼

Webé–‹ç™ºã§ã¯ã“ã‚Œã‚’åˆ©ç”¨ã—ãŸçŠ¶æ…‹ç®¡ç†ãªã©ãŒã‚ã‚‹ï¼

```ruby
# - ãƒãƒƒã‚·ãƒ¥ã®ã‚­ãƒ¼
# - ãƒ¡ã‚½ãƒƒãƒ‰å
# - çŠ¶æ…‹ã®è¡¨ç¾ ãªã©...
user = { status: :active }  # :pending, :banned ãªã©
array.sort_by { |item| item[:name] }
```

[å…¬å¼ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹]([https://docs.ruby-lang.org/ja/latest/class/Symbol.html](https://docs.ruby-lang.org/ja/latest/class/Symbol.html))

[ãƒãƒƒã‚·ãƒ¥ã®åŸºæœ¬]([https://qiita.com/yyykms123/items/2ceaec214f1f8a514011](https://qiita.com/yyykms123/items/2ceaec214f1f8a514011))

å‚è€ƒï¼š[https://qiita.com/yyykms123/items/6a6ae7fe8cd9263a3d1c](https://qiita.com/yyykms123/items/6a6ae7fe8cd9263a3d1c)

---

## ã‚·ãƒ³ãƒœãƒ«ã‚’ä½¿ã£ãŸå¾Œè¿°å‡¦ç†ã®çœç•¥ &:

Symbol to_proc*(&:ãƒ¡ã‚½ãƒƒãƒ‰å) ã‚’ä½¿ã£ãŸçœç•¥è¨˜æ³•*

å®Ÿè¡Œé€Ÿåº¦çš„ã«ã¯å¤§ããªå·®ã¯ãªã„ãŸã‚å®Œå…¨ã«å¯èª­æ€§ã§åˆ¤æ–­ã•ã‚Œã‚‹ã“ã¨ãŒå¤šã„

ã“ã‚“ãªã®ğŸ‘‡

```ruby

# é€šå¸¸ã®æ›¸ãæ–¹
[1, 2, 3].map { |n| n * 2 }        # [2, 4, 6]
[1, 2, 3].select { |n| n.even? }   # [2]
["a", "b"].map { |s| s.upcase }    # ["A", "B"]

# &:ãƒ¡ã‚½ãƒƒãƒ‰å ã§çœç•¥
[1, 2, 3].map(&:even?)             # [false, true, false]
["a", "b"].map(&:upcase)           # ["A", "B"]
[1, 2, 3, 4].select(&:even?)       # [2, 4]
```

### åŸç†

1. :even?ã¯ã‚·ãƒ³ãƒœãƒ«
2. &ã¯ã€Œto_procã‚’å‘¼ã‚“ã§ãƒ–ãƒ­ãƒƒã‚¯ã«å¤‰æ›ã—ã‚ã€ã¨ã„ã†æ„å‘³
3. å†…éƒ¨ã§ã¯ã“ã†ãªã‚‹ğŸ‘‡

```ruby
# ã“ã‚ŒãŒ...
[1, 2, 3].map(&:to_s)

# ã“ã†å±•é–‹ã•ã‚Œã‚‹
[1, 2, 3].map { |n| n.to_s }
```

### ã‚ˆãçœç•¥ã—ã¦æ›¸ã‹ã‚Œã‚‹ä¾‹

```ruby
# æ–‡å­—åˆ—å¤‰æ›
numbers = [1, 2, 3]
strings = numbers.map(&:to_s)      # ["1", "2", "3"]

# å¤§æ–‡å­—ãƒ»å°æ–‡å­—
words = ["hello", "world"]
upper = words.map(&:upcase)        # ["HELLO", "WORLD"]
lower = ["HELLO"].map(&:downcase)  # ["hello"]

# è¿°èªãƒ¡ã‚½ãƒƒãƒ‰
[1, 2, 3, 4].select(&:even?)       # [2, 4]
[1, 2, 3, 4].reject(&:even?)       # [1, 3]
["", "a", nil].select(&:nil?)      # [nil]
[0, 1, false, true].select(&:zero?) # [0]

# æ•°å€¤ãƒ¡ã‚½ãƒƒãƒ‰
[-1, 0, 1].map(&:abs)              # [1, 0, 1]
[1.5, 2.7].map(&:round)            # [2, 3]
[1, 2, 3].map(&:succ)              # [2, 3, 4] (æ¬¡ã®æ•°)

# é…åˆ—ãƒ¡ã‚½ãƒƒãƒ‰
[[1, 2], [3, 4]].map(&:first)     # [1, 3]
[[1, 2], [3, 4]].map(&:last)      # [2, 4]
[[1, 2], [3]].map(&:size)         # [2, 1]

# ãƒãƒƒã‚·ãƒ¥
users = [{name: "Taro"}, {name: "Hanako"}]
names = users.map { |u| u[:name] }  # é€šå¸¸
# &ã§ã¯ç›´æ¥ã‚­ãƒ¼ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ï¼ˆãƒ¡ã‚½ãƒƒãƒ‰ã˜ã‚ƒãªã„ã‹ã‚‰ï¼‰
```

### ãŸã ã—å¾Œè¿°ãƒ¡ã‚½ãƒƒãƒ‰ã§å¼•æ•°ã‚’ä½¿ã†å ´åˆã¯ä½¿ãˆãªã„

mapã§ç‰¹æ®Šãªã®å‡¦ç†ã‚’æŒŸã‚€ã‚ˆã†ãªå ´åˆ

```ruby
# âŒ ã“ã‚Œã¯ç„¡ç†ï¼ˆå¼•æ•°ãŒå¿…è¦ï¼‰
[1, 2, 3].map(&:*)  # ã‚¨ãƒ©ãƒ¼ï¼ *ã«ã¯å¼•æ•°ãŒå¿…è¦

# âœ… ãƒ–ãƒ­ãƒƒã‚¯ã§æ›¸ã
[1, 2, 3].map { |n| n * 2 }

# âŒ ã“ã‚Œã‚‚ç„¡ç†
["hello"].map(&:include?)  # ä½•ã‚’includeã™ã‚‹ã‹ä¸æ˜

# âœ… ãƒ–ãƒ­ãƒƒã‚¯ã§æ›¸ã
["hello"].map { |s| s.include?("e") }
```

## ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’è¿”ã™é–¢æ•°

>> é…åˆ—ã‚’å¼•æ•°ã¨ã—ã¦å—ã‘å–ã‚Šï¼Œåˆè¨ˆãƒ»å¹³å‡ãƒ»æœ€å¤§ãƒ»æœ€å°ã‚’è¿”ã™é–¢æ•°ã®å®Ÿè£…ï¼

Pythonã§ã„ã†è¾æ›¸å‹ã§ã®ãƒªã‚¿ãƒ¼ãƒ³ã‚„ï¼ŒJSã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚ˆã†ãªãƒªã‚¿ãƒ¼ãƒ³ãŒå¯èƒ½

```ruby
def stats(input)
  sum = input.sum
  avg = sum / input.length.to_f
  max_val = input.max
  min_val = input.min
  
  # ãƒãƒƒã‚·ãƒ¥ã§è¿”ã›ã‚‹
  { sum: sum, avg: avg, max: max_val, min: min_val }
end

# ãƒ†ã‚¹ãƒˆ
result = stats([1, 2, 3, 4, 5])
puts "åˆè¨ˆ: #{result[:sum]}, å¹³å‡: #{result[:avg]}, æœ€å¤§: #{result[:max]}, æœ€å°: #{result[:min]}"
```

ã‚·ãƒ³ãƒœãƒ«ã‚’ã‚­ãƒ¼ã¨ã—ã¦è¤‡æ•°ã®å€¤ã‚’è¿”ã›ã‚‹ãŸã‚æ‰±ã„ã‚„ã™ã„ï¼ï¼

ã‹ã¤sumã‚„min,maxã¨ã„ã£ãŸçµ„ã¿è¾¼ã¿é–¢æ•°ã‚‚è±Šå¯Œã§ã‚ã‚ŠãªãŒã‚‰å‰è¿°ã®ãƒ¡ã‚½ãƒƒãƒ‰ãƒã‚§ãƒ¼ãƒ³ã®ãŠã‹ã’ã§ãªã‚“ã®å‡¦ç†ãªã®ã‹ãŒã‚ã‹ã‚Šã‚„ã™ãæ„Ÿã˜ã‚‹ï¼

ã‚‚ã—ã“ã‚Œã‚’Cè¨€èªã§å®Ÿè£…ã™ã‚‹å ´åˆï¼Œæ§‹é€ ä½“ã‚’ä½¿ã£ã¦å®šç¾©ã™ã‚‹ã“ã¨ã«ãªã‚‹ï¼

```c
# Cè¨€èªã¯è¤‡æ•°ã®å€¤ã‚’è¿”ã›ãªã„
//  ã“ã‚Œã¯ç„¡ç†
// int stats(int arr[], int len) {
//     return {sum, avg, max, min};  // ã‚¨ãƒ©ãƒ¼ï¼
// }

// âœ… ä»£æ¡ˆ1: æ§‹é€ ä½“ã‚’ä½¿ã†
typedef struct {
    int sum;
    double avg;
    int max;
    int min;
} Stats;

Stats stats(int arr[], int len) {
    Stats result;
    result.sum = 0;
    result.max = arr[0];
    result.min = arr[0];
    
    for (int i = 0; i < len; i++) {
        result.sum += arr[i];
        if (arr[i] > result.max) result.max = arr[i];
        if (arr[i] < result.min) result.min = arr[i];
    }
    result.avg = (double)result.sum / len;
    return result;
}

// å‘¼ã³å‡ºã—
Stats result = stats(arr, 5);
printf("åˆè¨ˆ: %d, å¹³å‡: %.1f\n", result.sum, result.avg);
```

ã‚„ã¯ã‚Šå‹ãŒã‚ã‚‹ã‚„ã‚Šã‚„ã™ã•ã¨ä½ãƒ¬ã‚¤ãƒ¤ã§ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è€ƒãˆã‚‹ã¨è½ã¡ç€ãéƒ¨åˆ†ã‚‚ã‚ã‚‹ãŒï¼Œå¯èª­æ€§ã®é«˜ã•ã¨Webé ˜åŸŸã§ã®è¦ªå’Œæ€§ã®é«˜ã•ã®ã‚ã‚‹Rubyã‚’è§¦ã£ã¦ã„ã‚‹ã¨é©æé©æ‰€ã ãªã¨æ„Ÿã˜ã¦ã¾ã™ï¼

ä½ãƒ¬ã‚¤ãƒ¤ã®å®Ÿè£…ã‚’æ·±ãã¾ã§æ°—ã«ã™ã‚‹ã“ã¨ãªãï¼Œã“ã“ã¾ã§æŠ½è±¡åŒ–ã•ã‚Œã¦æ›¸ãå¿ƒåœ°ã®è‰¯ã„è¨€èªã§ã®é–‹ç™ºä½“é¨“ã‚’ç¯‰ãä¸Šã’ã¦ãã‚ŒãŸæ­´æˆ¦ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®æ–¹ã€…ã«ã¯æœ¬å½“ã«é ­ãŒä¸ŠãŒã‚Šã¾ã›ã‚“ï¼

## ãƒãƒƒã‚·ãƒ¥ã‚’ä½¿ã£ãŸãƒ¡ãƒ¢åŒ–

Rubyã‚‰ã—ã„ã‹ã¨è¨€ãˆã°ä»–ã®è¨€èªã§ã‚‚åˆ©ç”¨ã•ã‚Œã‚‹æ‰‹æ³•ã§ã™ãŒï¼Œå†å¸°å‡¦ç†ã«ãŠã„ã¦ä¸€åº¦ã‚„ã£ãŸè¨ˆç®—çµæœã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¦ç½®ããƒ¡ãƒ¢åŒ–ã«ãŠã„ã¦ã‚‚ãƒãƒƒã‚·ãƒ¥ãŒåˆ©ç”¨ã§ãã¾ã™ï¼

ã“ã‚Œã‚‚Cã§æ›¸ãã¨ãªã‚‹ã¨ã‹ãªã‚Šè¤‡é›‘ã§ã‚„ã¯ã‚ŠRubyã®èª­ã¿ã‚„ã™ã•ã‚’æ„Ÿã˜ã‚‹ï¼

```ruby
def fib_memo(n, memo = {}) # ç©ºã®ãƒãƒƒã‚·ãƒ¥ã‚’ä½œã£ã¨ã (é…åˆ—ã˜ã‚ƒãªã„ã‚ˆ)
  return n if n <= 1
  return memo[n] if memo[n] # è¨ˆç®—æ¸ˆã¿ãªã‚‰ãã‚Œã‚’ä½¿ã† ãƒãƒƒã‚·ãƒ¥ã®ã‚­ãƒ¼n

  memo[n] = fib_memo(n - 1, memo) + fib_memo(n - 2, memo)
end

# ãƒ†ã‚¹ãƒˆ
puts fib_memo(40)  # æ™®é€šã®å†å¸°ã ã¨é…ã„ãŒã€ãƒ¡ãƒ¢åŒ–ã™ã‚Œã°ä¸€ç¬
```

## é…åˆ—ã‹ã‚‰ãƒãƒƒã‚·ãƒ¥ã‚’ä½œæˆ

æ„å¤–ã¨ã“ã‚Œã‚‚å¿˜ã‚Œãã†ã ã£ãŸã®ã§æ®‹ã—ã¦ãŠãï¼

äºŒã¤ã®é…åˆ—ã©ã†ã—ã‚’ãƒãƒƒã‚·ãƒ¥ã—ã¦é€£çµã™ã‚‹éš›ã«ç”¨ã„ã‚‰ã‚Œã‚‹zipé–¢æ•°ã§ã‚ã‚‹ãŒï¼Œã“ã‚Œå˜ä½“ã§ã®æˆ»ã‚Šå€¤ã¯é…åˆ—ã®é…åˆ—ã«ãªã£ã¦æ ¼ç´ã•ã‚Œã‚‹ï¼ãã®ãŸã‚ï¼Œçµæœã‚’ãƒãƒƒã‚·ãƒ¥ã¨ã—ã¦åˆ©ç”¨ã™ã‚‹ã«ã¯to_hã§å¤‰æ›ãŒå¿…è¦

```ruby
keys = [:name, :age, :city]
values = ["Taro", 25, "Tokyo"]

hash = keys.zip(values).to_h # zipã ã‘ã ã¨æˆ»ã‚Šå€¤ã¯é…åˆ—ãªã®ã§ã¯ãƒãƒƒã‚·ãƒ¥åŒ–
puts hash[:name]
# > Taro
```

---

## å‘½åè¦å‰‡

å¤‰æ•°ã‚„é–¢æ•°åã‚’ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹ã§æ›¸ãã®ã ã‘ã§ãªãï¼Œãã®é–¢æ•°ã®ç‰¹æ€§ã«åˆã‚ã›ãŸå‘½åè¦å‰‡ã®é•ã„ã‚‚ã‚ã‚‹ï¼Rubyæ¨™æº–ã®çµ„ã¿è¾¼ã¿ã§ã¯ï¼Œ!(bang)-ç ´å£Šãƒ¡ã‚½ãƒƒãƒ‰ã‚„ï¼Œ?(question)-çœŸå½å€¤ã‚’è¿”ã™ãƒ¡ã‚½ãƒƒãƒ‰ã§ã“ã‚Œã‚‰ã®è¨˜å·ã‚’æœ«å°¾ã«ç€ã‘ã‚‹ã¨ã„ã£ãŸæ…£ç¿’ã«ãªã£ã¦ã„ã‚‹ï¼

```ruby
# éç ´å£Šçš„
str = "hello"
str.upcase  # => "HELLO"
puts str    # => "hello" (å…ƒã®ã¾ã¾)

# ç ´å£Šçš„
str.upcase!
puts str    # => "HELLO" (å¤‰æ›´ã•ã‚Œã‚‹)
```

```ruby
puts "".empty?        # => true
puts [1, 2].include?(1)  # => true
puts nil.nil?         # => true
```

ã“ã‚Œã‚‰ã®è¦ç´„ã«æº–æ‹ ã—ï¼Œè‡ªä½œãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚‚å‘½åã™ã‚‹ï¼

## Rubyã§ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘

- `@`ã§å®šç¾©ã—ãŸå¤‰æ•°ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°(åŒã‚¯ãƒ©ã‚¹ã§ã‚ã£ã¦ã‚‚ä»–ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¨ã¯ç‹¬ç«‹ã—ã¦ç®¡ç†ã•ã‚Œã‚‹)
- `@@`ã§å®šç¾©ã—ãŸå ´åˆã¯ã‚¯ãƒ©ã‚¹å¤‰æ•°(åŒã‚¯ãƒ©ã‚¹é–“ã§å…±æœ‰)
- .selfã§ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰(ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤–ã‹ã‚‰å‘¼ã³å‡ºã—å¯)ã‚’å®šç¾©ï¼
    - *C#ã‚„Javaã®staticãƒ¡ã‚½ãƒƒãƒ‰ã¨åŒã˜æ¦‚å¿µ*

```ruby
class Counter
  @@count = 0  # ã‚¯ãƒ©ã‚¹å¤‰æ•°ï¼ˆå…¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§å…±æœ‰ï¼‰
  
  def initialize
    @@count += 1
  end
  
  # ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆself.ã‚’ã¤ã‘ã‚‹ï¼‰
  def self.total
    @@count
  end
  
  # åˆ¥ã®æ›¸ãæ–¹
  class << self
    def reset
      @@count = 0
    end
  end
end

Counter.new
Counter.new
puts Counter.total  # 2
Counter.reset
puts Counter.total  # 0
```

ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã—ã¦ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ï¼

```ruby
# extendï¼ˆã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦è¿½åŠ ï¼‰
module Greetable
  def greet
    puts "Hello!"
  end
end

class Robot
  extend Greetable  # ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã«ãªã‚‹(ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã›ãšã«å‘¼ã³å‡ºã›ã‚‹ï¼)
end

Robot.greet  # Hello!
```

Privateã‚„Protectã¨ã„ã£ãŸã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ã‚‚C#ã®ã‚ˆã†ã«ã™ã¹ã¦ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®æ¥é ­è¾ã¨ã—ã¦æ›¸ãå¿…è¦ãŒãªã„ï¼

```ruby
class Example
  def public_method1
    # public
  end
  
  private  # ã“ã®è¡Œä»¥é™ãŒå…¨ã¦privateã«ãªã‚‹
  # protected # ã“ã®å ´åˆã¯åŒã‚¯ãƒ©ã‚¹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹é–“ã§ã¯åˆ©ç”¨å¯èƒ½
  
  def private_method1
    # private
  end
  
  def private_method2
    # private
  end
end
```

ã‚‚ã¡ã‚ã‚“C#ã®ã‚ˆã†ã«æ˜ç¤ºçš„ã«å€‹åˆ¥ã«æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ï¼

```ruby
class Example
  def method1; end
  def method2; end
  
  private :method1  # method1ã ã‘privateã«
end
```

### ã‚¢ã‚¯ã‚»ã‚µãƒ¡ã‚½ãƒƒãƒ‰

ã‚¯ãƒ©ã‚¹å¤–ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒå¿…è¦ãªéš›ã«å®šç¾©ã™ã‚‹ï¼

- attr_writer
- attr_reader
- attr_accessor

```ruby
class Person
  attr_reader :name      # nameã®èª­ã¿å–ã‚Šã®ã¿
  attr_writer :password  # passwordã®æ›¸ãè¾¼ã¿ã®ã¿
  attr_accessor :age     # ageã®èª­ã¿æ›¸ãä¸¡æ–¹
  
  def initialize(name, age)
    @name = name
    @age = age
  end
end

person = Person.new("Taro", 25)
puts person.name        # OKï¼ˆgetterï¼‰
person.name = "Jiro"    # ã‚¨ãƒ©ãƒ¼ï¼ˆsetterãŒãªã„ï¼‰

person.age = 26         # OKï¼ˆsetterï¼‰
puts person.age         # OKï¼ˆgetterï¼‰

person.password = "123" # OKï¼ˆsetterï¼‰
puts person.password    # ã‚¨ãƒ©ãƒ¼ï¼ˆgetterãŒãªã„ï¼‰
```

### ãƒ€ãƒƒã‚¯ã‚¿ã‚¤ãƒ”ãƒ³ã‚°

> "If it walks like a duck and quacks like a duck, it must be a duck"
ï¼ˆã‚‚ã—ã‚‚ãã‚ŒãŒã‚¢ãƒ’ãƒ«ã®ã‚ˆã†ã«æ­©ãã€ã‚¢ãƒ’ãƒ«ã®ã‚ˆã†ã«é³´ãã®ãªã‚‰ã€ãã‚Œã¯ã‚¢ãƒ’ãƒ«ã«é•ã„ãªã„ï¼‰
> 

å‹•çš„å‹ä»˜ã‘è¨€èªã§ã‚ã‚‹Rubyãªã‚‰ã§ã¯ã®æŸ”è»Ÿæ€§ï¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆ¤æ–­ã™ã‚‹ã¨ãã«ï¼Œ*å‹ã‚ˆã‚Šã‚‚ã€Œãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã£ã¦ã„ã‚‹ã‹ã€ãŒé‡è¦ã‚’é‡è¦è¦–ã™ã‚‹ï¼*

C#ã§ã¯ï¼Œ

```csharp
// C# - å‹ã‚’æ˜ç¤ºã™ã‚‹å¿…è¦ãŒã‚ã‚‹
public void MakeSound(Animal animal) {
    animal.Speak();  // animalã¯Animalå‹ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„
}

// Catã‚¯ãƒ©ã‚¹ã¯ Animal ã‚’ç¶™æ‰¿ã—ã¦ã„ãªã„ã¨ã‚¨ãƒ©ãƒ¼
MakeSound(new Robot());  // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ï¼
```

ä¸€æ–¹Rubyã§ã¯

```ruby
# Ruby - å‹ã¯é–¢ä¿‚ãªã„
def make_sound(animal)
  animal.speak  # speakãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚Œã°OK
end

class Robot2
  def initialize(name)
    @name = name
  end
  
  def speak
    puts "#{@name}: ãƒ“ãƒ¼ãƒ“ãƒ¼"
  end
end

make_sound(Cat.new("ã‚¿ãƒ"))     # ã‚¿ãƒ: ãƒ‹ãƒ£ãƒ¼
make_sound(Robot2.new("R2D2"))  # R2D2: ãƒ“ãƒ¼ãƒ“ãƒ¼

```

Catã§ã‚‚Robot2ã§ã‚¯ãƒ©ã‚¹ã‚’ã‚‚ã¨ã«ä½œæˆã™ã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ã‚ã£ã¦ã‚‚ï¼Œspeakãƒ¡ã‚½ãƒƒãƒ‰ã•ãˆæŒã£ã¦ã„ã‚Œã°ãƒ¨ã‚·ã¨ã•ã‚Œã‚‹ï¼

C#ã®ã‚ˆã†ã«ï¼Œå³å¯†ã«ã‚¯ãƒ©ã‚¹(å‹)ã‚’æŒ‡å®šã—ãªã„ãŸã‚ï¼Œã©ã‚“ãªç‰¹å®šã®ã‚¯ãƒ©ã‚¹ã¨ã‚‚ç´ä»˜ã‹ãªã„ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹æŸ”è»Ÿæ€§ã‚’æŒã£ã¦ã„ã‚‹(ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã™ã‚‹ã¨ãã«ã€Œå¼•æ•°ã¯ä½•ã‚¯ãƒ©ã‚¹ã«ã™ã¹ãã‹ãªï¼Ÿã€ã¨ã„ã†è€ƒãˆã§ã¯ãªãã€ã€Œã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®å¼•æ•°ã¯ã©ã‚“ãªãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã£ã¦ã„ã‚‹ã¹ãã‹ãªï¼Ÿã€ã¨ã„ã†æŒ¯ã‚‹èˆã„ã«ç€ç›®ã§ãã‚‹)ï¼

### ãƒ¢ãƒ³ã‚­ãƒ¼ãƒ‘ãƒƒãƒ(ã‚ªãƒ¼ãƒ—ãƒ³ã‚¯ãƒ©ã‚¹ã®æ‹¡å¼µ)

Rubyã§ã¯å‰è¿°ã®ã¨ãŠã‚Šï¼Œã™ã¹ã¦ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹[ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹]()ã¨ã„ã†ç‰¹å¾´ã‚’æŒã£ã¦ã„ã‚‹ï¼ã“ã®ãŸã‚ï¼ŒPythonãªã©ã®ä»–ã®è¨€èªã¨é•ã„ï¼ŒIntegerã‚¯ãƒ©ã‚¹ã‚„ï¼ŒArrayã‚¯ãƒ©ã‚¹ãŒæŒã¤æ¨™æº–ãƒ¡ã‚½ãƒƒãƒ‰ã®ã»ã‹ã«ç‹¬è‡ªã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ï¼[å‚è€ƒ]([https://qiita.com/YutoYasunaga/items/7dc5c418fc90f84f274e](https://qiita.com/YutoYasunaga/items/7dc5c418fc90f84f274e))

```ruby
class Array
  def average
    return 0 if self.empty? # æ˜ç¤ºçš„ã«selfã‚’è¨˜è¿°ã—ã¦ã„ã‚‹ãŒæš—é»™çš„ã«çœç•¥å¯èƒ½
    self.sum.to_f / self.size
  end
end 

# ãƒ†ã‚¹ãƒˆ
puts [1, 2, 3, 4, 5].average  # => 3.0
```

**åˆ©ç”¨ä¾‹ï¼šæ—¥ä»˜ãƒ»æ™‚åˆ»ã®æ‹¡å¼µãªã©**

ãƒ¢ãƒ³ã‚­ãƒ¼ãƒ‘ãƒƒãƒã¯å®Ÿéš›ã«Railsã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¬ã‚³ãƒ¼ãƒ‰ã§åˆ©ç”¨ã•ã‚Œã¦ã„ã‚‹ï¼ä¾‹ãˆã°Numericã‚¯ãƒ©ã‚¹ã«å¯¾ã—ã¦ã¯æ—¥ä»˜ã®æ‹¡å¼µã¨ã—ã¦ä½¿ã‚ã‚Œã¦ã„ã‚‹ï¼

```ruby
class Numeric
# -----------æŠœç²‹---------
  # Returns a Duration instance matching the number of days provided.
  #
  #   2.days # => 2 days
  def days
    ActiveSupport::Duration.days(self)
  end
  alias :day :days

  # Returns a Duration instance matching the number of weeks provided.
  #
  #   2.weeks # => 2 weeks
  def weeks
    ActiveSupport::Duration.weeks(self)
  end
  alias :week :weeks
end

# -------ä½¿ç”¨ä¾‹-------------
expires_at = Time.now + 3.days
valid_until = Time.now + 2.weeks
```

---

## æ¼”ç¿’ã—ã¦ã¦å¿˜ã‚Œãã†ãªã¨ã“

### .join

sqlã®çµåˆã§ä½¿ã†JOINã®ã‚ˆã†ãªæŒ™å‹•ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ãŸãŒï¼Œã“ã‚Œã¯ï¼Œé…åˆ—ã‚’ä»»æ„ã®æ–‡å­—åˆ—ã§çµåˆã™ã‚‹(æˆ»ã‚Šå€¤ã¯str)é–¢æ•°ï¼

```ruby
arr = [1, 2, 3]
puts arr.join("+")
# > 1+2+3

text = "Hello World Ruby"
puts text.split.reverse.Join(" ")
# > Ruby World Hello
# split â†” join ã®é–¢ä¿‚(æ–‡å­—åˆ—ã‹ã¯é…åˆ— â†” é…åˆ—ã‹ã‚‰æ–‡å­—åˆ—)
```

